{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}

<!-- Header -->
<div class="bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-6 rounded-lg shadow-lg">
  <h1 class="text-2xl font-bold">Welcome back, {{ user.username }}!</h1>
  <p class="text-sm mt-1">Manage your events and stay updated</p>
</div>

<!-- Stats Section -->


<!-- Events Section -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">

  <!-- Registered Events -->
  <div class="bg-white p-5 rounded-lg shadow-md border">
    <h3 class="text-lg font-semibold mb-4">Registered Events</h3>
    <div class="space-y-4">
      {% for event in registered_events %}
        <div class="flex items-start space-x-3 p-3 bg-gray-100 rounded-lg">
          <div class="bg-blue-100 p-2 rounded-lg">📅</div>
          <div class="flex-1">
            <h4 class="text-sm font-medium">{{ event.title }}</h4>
            <div class="flex gap-4 text-xs text-gray-500 mt-1">
              <span>⏰ {{ event.date }}</span>
              <span>📍 {{ event.location }}</span>
            </div>
            <span class="inline-block mt-2 px-2 py-1 bg-gray-200 text-xs rounded">{{ event.category }}</span>
          </div>
        </div>
      {% empty %}
        <p class="text-gray-500">No registered events yet.</p>
      {% endfor %}
    </div>
  </div>

  <!-- Upcoming Events -->
  <div class="bg-white p-5 rounded-lg shadow-md border">
    <h3 class="text-lg font-semibold mb-4">Upcoming Events</h3>
    <div class="space-y-4">
      {% for event in upcoming_events %}
        <div class="flex items-start space-x-3 p-3 bg-gray-100 rounded-lg">
          <div class="bg-green-100 p-2 rounded-lg">🎉</div>
          <div class="flex-1">
            <h4 class="text-sm font-medium">{{ event.title }}</h4>
            <div class="flex gap-4 text-xs text-gray-500 mt-1">
              <span>⏰ {{ event.date }}</span>
              <span>📍 {{ event.location }}</span>
            </div>
            <span class="inline-block mt-2 px-2 py-1 bg-gray-200 text-xs rounded">{{ event.category }}</span>
          </div>
        </div>
      {% empty %}
        <p class="text-gray-500">No upcoming events right now.</p>
      {% endfor %}
    </div>
  </div>
</div>

<!-- Notifications -->


<!-- All Events + Registered Events Section -->
<div class="bg-white p-5 rounded-lg shadow-md border mt-8">
  <h2 class="text-xl font-semibold">All Events</h2>
  <ul class="list-disc ml-6 mt-2">
    {% for event in events %}
      <li>
        <a href="{% url 'event_detail' event.id %}" class="text-blue-600 hover:underline">
          {{ event.title }}
        </a>
      </li>
    {% endfor %}
  </ul>

  <h2 class="text-xl font-semibold mt-6">My Registered Events (Detailed)</h2>
  <ul class="list-disc ml-6 mt-2">
    {% for reg in registrations %}
      <li>{{ reg.event.title }} ({{ reg.registered_at|date:"d M Y, H:i" }})</li>
    {% empty %}
      <li>No events registered yet.</li>
    {% endfor %}
  </ul>
</div>

{% endblock %}
